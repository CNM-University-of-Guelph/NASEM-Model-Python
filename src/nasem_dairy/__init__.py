# read version from installed package
from importlib.metadata import version
__version__ = version("nasem_dairy")

from nasem_dairy.ration_balancer.ration_balancer_functions import get_feed_rows_feedlibrary, check_coeffs_in_coeff_dict, read_csv_input, read_infusion_input
from nasem_dairy.ration_balancer.ModelOutput import ModelOutput
from nasem_dairy.ration_balancer.execute_model import execute_model
from nasem_dairy.ration_balancer.default_values_dictionaries import coeff_dict, infusion_dict, MP_NP_efficiency_dict
from nasem_dairy.NASEM_equations.DMI_equations import (
    calculate_Kb_LateGest_DMIn,
    calculate_An_PrePartWklim,
    calculate_Dt_DMIn_Heif_LateGestInd,
    calculate_Dt_DMIn_Heif_LateGestPen,
    calculate_Dt_NDFdev_DMI,
    calculate_Dt_DMIn_Heif_NRCa,
    calculate_Dt_DMIn_Heif_NRCad,
    calculate_Dt_DMIn_Heif_H1,
    calculate_Dt_DMIn_Heif_H2,
    calculate_Dt_DMIn_Heif_HJ1,
    calculate_Dt_DMIn_Heif_HJ2,
    calculate_Dt_DMIn_Lact1,
    calculate_Dt_DMIn_BW_LateGest_i,
    calculate_Dt_DMIn_BW_LateGest_p,
    calculate_Dt_DMIn_DryCow1_FarOff,
    calculate_Dt_DMIn_DryCow1_Close,
    calculate_Dt_DMIn_DryCow2,
    calculate_Dt_DMIn_Calf1
)

from nasem_dairy.NASEM_equations.milk_equations import (
    calculate_Trg_NEmilk_Milk,
    calculate_Mlk_NP_g,
    calculate_Mlk_CP_g,
    calculate_An_LactDay_MlkPred,
    calculate_Trg_Mlk_Fat,
    calculate_Trg_Mlk_Fat_g,
    calculate_Mlk_Fatemp_g,
    calculate_Mlk_Fat_g,
    calculate_Mlk_Fat,
    calculate_Mlk_NP,
    calculate_Mlk_Prod_comp,
    calculate_An_MPavail_Milk_Trg,
    calculate_Mlk_NP_MPalow_Trg_g,
    calculate_Mlk_Prod_MPalow,
    calculate_An_MEavail_Milk,
    calculate_Mlk_Prod_NEalow,
    calculate_MlkNP_Milk,
    calculate_Mlk_Prod,
    calculate_MlkFat_Milk,
    calculate_MlkNE_Milk,
    calculate_Mlk_NEout,
    calculate_Mlk_MEout
)

from nasem_dairy.NASEM_equations.nutrient_intakes import (
    calculate_TT_dcFdNDF_Lg,
    calculate_Fd_DNDF48,
    calculate_TT_dcFdNDF_48h,
    calculate_TT_dcFdNDF_Base,
    calculate_Fd_GE,
    calculate_Fd_DMIn,
    calculate_Fd_AFIn,
    calculate_Fd_For,
    calculate_Fd_ForWet,
    calculate_Fd_ForDry,
    calculate_Fd_Past,
    calculate_Fd_LiqClf,
    calculate_Fd_ForNDF,
    calculate_Fd_NDFnf,
    calculate_Fd_NPNCP,
    calculate_Fd_NPN,
    calculate_Fd_NPNDM,
    calculate_Fd_TP,
    calculate_Fd_fHydr_FA,
    calculate_Fd_FAhydr,
    calculate_Fd_NFC,
    calculate_Fd_rOM,
    calculate_Fd_GEIn,
    calculate_Fd_DigNDFIn_Base,
    calculate_Fd_NPNCPIn,
    calculate_Fd_NPNIn,
    calculate_Fd_NPNDMIn,
    calculate_Fd_CPAIn,
    calculate_Fd_CPBIn,
    calculate_Fd_CPBIn_For,
    calculate_Fd_CPBIn_Conc,
    calculate_Fd_CPCIn,
    calculate_Fd_CPIn_ClfLiq,
    calculate_Fd_CPIn_ClfDry,
    calculate_Fd_rdcRUPB,
    calculate_Fd_RUPBIn,
    calculate_Fd_RUPIn,
    calculate_Fd_RUP_CP,
    calculate_Fd_RUP,
    calculate_Fd_RDP,
    calculate_Fd_OMIn,
    calculate_Fd_DE_base_1,
    calculate_Fd_DE_base_2,
    calculate_Fd_DE_base,
    calculate_Fd_DEIn_base,
    calculate_Fd_DEIn_base_ClfLiq,
    calculate_Fd_DEIn_base_ClfDry,
    calculate_Fd_DMIn_ClfLiq,
    calculate_Fd_DE_ClfLiq,
    calculate_Fd_ME_ClfLiq,
    calculate_Fd_DMIn_ClfFor,
    calculate_Fd_PinorgIn,
    calculate_Fd_PorgIn,
    calculate_Fd_MgIn_min,
    calculate_Fd_acCa,
    calculate_Fd_acPtot,
    calculate_Fd_acMg,
    calculate_Fd_acNa,
    calculate_Fd_acK,
    calculate_Fd_acCl,
    calculate_Fd_absCaIn,
    calculate_Fd_absPIn,
    calculate_Fd_absMgIn_base,
    calculate_Fd_absNaIn,
    calculate_Fd_absKIn,
    calculate_Fd_absClIn,
    calculate_Fd_acCo,
    calculate_Fd_acCu,
    calculate_Fd_acFe,
    calculate_Fd_acMn,
    calculate_Fd_acZn,
    calculate_Fd_DigSt,
    calculate_Fd_DigStIn_Base,
    calculate_Fd_DigrOMt,
    calculate_Fd_idRUPIn,
    calculate_TT_dcFdFA,
    calculate_Fd_DigFAIn,
    calculate_Fd_DigrOMa,
    calculate_Fd_DigrOMaIn,
    calculate_Fd_DigWSC,
    calculate_Fd_DigWSCIn,
    calculate_Dt_ForDNDF48,
    calculate_Dt_ForDNDF48_ForNDF,
    calculate_Dt_ADF_NDF,
    calculate_Dt_DE_ClfLiq,
    calculate_Dt_ME_ClfLiq,
    calculate_Dt_NDFnfIn,
    calculate_Dt_Lg_NDF,
    calculate_Dt_ForNDFIn,
    calculate_Dt_PastSupplIn,
    calculate_Dt_NIn,
    calculate_Dt_RUPIn,
    calculate_Dt_RUP_CP,
    calculate_Dt_fCPBdu,
    calculate_Dt_UFAIn,
    calculate_Dt_MUFAIn,
    calculate_Dt_PUFAIn,
    calculate_Dt_SatFAIn,
    calculate_Dt_OMIn,
    calculate_Dt_rOMIn,
    calculate_Dt_DM,
    calculate_Dt_NDFIn_BW,
    calculate_Dt_ForNDF_NDF,
    calculate_Dt_ForNDFIn_BW,
    calculate_Dt_DMInSum,
    calculate_Dt_DEIn_ClfLiq,
    calculate_Dt_MEIn_ClfLiq,
    calculate_Dt_CPA_CP,
    calculate_Dt_CPB_CP,
    calculate_Dt_CPC_CP,
    calculate_Dt_DigNDFIn,
    calculate_Dt_DigStIn,
    calculate_Dt_DigrOMaIn,
    calculate_Dt_dcCP_ClfDry,
    calculate_Dt_DENDFIn,
    calculate_Dt_DEStIn,
    calculate_Dt_DErOMIn,
    calculate_Dt_DigCPaIn,
    calculate_Dt_DECPIn,
    calculate_Dt_DENPNCPIn,
    calculate_Dt_DETPIn,
    calculate_Dt_DEFAIn,
    calculate_Dt_DMIn_ClfStrt,
    calculate_Dt_DEIn,
    calculate_TT_dcNDF_Base,
    calculate_TT_dcNDF,
    calculate_TT_dcSt_Base,
    calculate_TT_dcSt,
    calculate_TT_dcAnSt,
    calculate_TT_dcrOMa,
    calculate_TT_dcrOMt,
    calculate_Dt_acMg,
    calculate_Abs_MgIn,
    calculate_Dt_DigWSCIn,
    calculate_Dt_DigSt,
    calculate_Dt_DigWSC,
    calculate_Dt_DigrOMa,
    calculate_Dt_DigrOMa_Dt,
    calculate_Dt_DigrOMt,
    calculate_Dt_DigNDFnfIn,
    calculate_Dt_DigNDF,
    calculate_Dt_DigNDFnf,
    calculate_Dt_DigCPtIn,
    calculate_Dt_DigTPaIn,
    calculate_Dt_DigTPtIn,
    calculate_Dt_DigCPa,
    calculate_TT_dcDtCPa,
    calculate_Dt_DigCPt,
    calculate_Dt_DigTPt,
    calculate_TT_dcDtCPt,
    calculate_Dt_MPIn,
    calculate_Dt_MP,
    calculate_Dt_DigUFAIn,
    calculate_Dt_DigMUFAIn,
    calculate_Dt_DigPUFAIn,
    calculate_Dt_DigSatFAIn,
    calculate_Dt_DigFA,
    calculate_Dt_DigOMaIn,
    calculate_Dt_DigOMtIn,
    calculate_Dt_DigOMa,
    calculate_Dt_DigOMt,
    calculate_TT_dcDtFA,
    calculate_Dt_GE,
    calculate_Dt_DE,
    calculate_Dt_TDN,
    calculate_Dt_TDNIn,
    calculate_Dt_GasE_IPCC2,
    calculate_Dt_GasEOut_Lact,
    calculate_Dt_GasEOut_Heif,
    calculate_Dt_GasEOut_Dry,
    calculate_Dt_GasEOut,
    calculate_diet_info,
    calculate_diet_data_initial,
    calculate_diet_data_complete
)

from nasem_dairy.NASEM_equations.rumen_equations import (
    calculate_Rum_dcNDF,
    calculate_Rum_dcSt,
    calculate_Rum_DigNDFIn,
    calculate_Rum_DigStIn,
    calculate_Rum_DigNDFnfIn,
    calculate_Du_StPas,
    calculate_Du_NDFPas
)

from nasem_dairy.NASEM_equations.microbial_protein_equations import (
    calculate_RDPIn_MiNmax,
    calculate_MiN_Vm,
    calculate_Du_MiN_NRC2021_g,
    calculate_Du_MiN_VTln_g,
    calculate_Du_MiN_VTnln_g,
    calculate_Du_MiCP,
    calculate_Du_idMiCP_g,
    calculate_Du_idMiCP,
    calculate_Du_idMiTP_g,
    calculate_Du_idMiTP,
    calculate_Du_MiTP,
    calculate_Du_EndCP_g,
    calculate_Du_EndN_g,
    calculate_Du_EndCP,
    calculate_Du_EndN,
    calculate_Du_NAN_g,
    calculate_Du_NANMN_g,
    calculate_Du_MiN_NRC2001_g
)

from nasem_dairy.NASEM_equations.protein_equations import (
    calculate_f_mPrt_max, 
    calculate_Du_MiCP_g, 
    calculate_Du_MiTP_g,
    calculate_Scrf_CP_g,
    calculate_Scrf_NP_g,
    calculate_Scrf_MPUse_g_Trg
)

from nasem_dairy.NASEM_equations.amino_acid_equations import (
    calculate_Du_AAMic,
    calculate_Du_IdAAMic,
    calculate_Abs_AA_g,
    calculate_mPrtmx_AA,
    calculate_mPrtmx_AA2,
    calculate_AA_mPrtmx,
    calculate_mPrt_AA_01,
    calculate_mPrt_k_AA,
    calculate_Abs_EAA_g,
    calculate_Abs_neAA_g,
    calculate_Abs_OthAA_g,
    calculate_Abs_EAA2_HILKM_g,
    calculate_Abs_EAA2_RHILKM_g,
    calculate_Abs_EAA2_HILKMT_g,
    calculate_Abs_EAA2b_g,
    calculate_mPrt_k_EAA2
)


from nasem_dairy.NASEM_equations.infusion_equations import (
    calculate_Inf_TPIn,
    calculate_Inf_OMIn,
    calculate_Inf_Rum,
    calculate_Inf_SI,
    calculate_Inf_Art,
    calculate_InfRum_TPIn,
    calculate_InfSI_TPIn,
    calculate_InfRum_RUPIn,
    calculate_InfRum_RUP_CP,
    calculate_InfRum_idRUPIn,
    calculate_InfSI_idTPIn,
    calculate_InfSI_idCPIn,
    calculate_Inf_idCPIn,
    calculate_InfRum_RDPIn,
    calculate_Inf_DigFAIn,
    calculate_Inf_DEAcetIn,
    calculate_Inf_DEPropIn,
    calculate_Inf_DEButrIn,
    calculate_infusion_data
)

from nasem_dairy.NASEM_equations.animal_equations import (
    calculate_An_DMIn_BW,
    calculate_An_RDPIn,
    calculate_An_RDP,
    calculate_An_RDPIn_g,
    calculate_An_NDFIn,
    calculate_An_NDF,
    calculate_An_DigNDFIn,
    calculate_An_DENDFIn,
    calculate_An_DigStIn,
    calculate_An_DEStIn,
    calculate_An_DigrOMaIn,
    calculate_An_DErOMIn,
    calculate_An_idRUPIn,
    calculate_An_RUPIn,
    calculate_An_DMIn,
    calculate_An_CPIn,
    calculate_An_DigNDF,
    calculate_An_GEIn,
    calculate_An_GasEOut_Dry,
    calculate_An_GasEOut_Lact,
    calculate_An_GasEOut_Heif,
    calculate_An_GasEOut,
    calculate_An_DigCPaIn,
    calculate_An_DECPIn,
    calculate_An_DENPNCPIn,
    calculate_An_DETPIn,
    calculate_An_DigFAIn,
    calculate_An_DEFAIn,
    calculate_An_DEIn,
    calculate_An_DEInp,
    calculate_An_GutFill_BW,
    calculate_An_BWnp,
    calculate_An_GutFill_Wt,
    calculate_An_BW_empty,
    calculate_An_REgain_Calf,
    calculate_An_MEIn_approx,
    calculate_An_MEIn,
    calculate_An_NEIn,
    calculate_An_NE,
    calculate_An_MBW,
    calculate_An_TPIn,
    calculate_An_DigTPaIn,
    calculate_An_data_initial,
    calculate_An_data_complete,
    calculate_An_MPIn,
    calculate_An_MPIn_g,
    calculate_An_DigStIn_Base,
    calculate_An_DigWSCIn,
    calculate_An_DigrOMtIn,
    calculate_An_DigSt,
    calculate_An_DigWSC,
    calculate_An_DigrOMa,
    calculate_An_DigrOMt,
    calculate_An_DigNDFIn_Base,
    calculate_An_RDPbal_g,
    calculate_An_DigCPa,
    calculate_TT_dcAnCPa,
    calculate_An_DigCPtIn,
    calculate_An_DigNtIn_g,
    calculate_An_DigTPtIn,
    calculate_An_DigCPt,
    calculate_An_DigTPt,
    calculate_TT_dcAnCPt,
    calculate_TT_dcAnTPt,
    calculate_SI_dcAnRUP,
    calculate_An_idCPIn,
    calculate_An_MP,
    calculate_An_MP_CP,
    calculate_An_DigFA,
    calculate_TT_dcAnFA,
    calculate_An_OMIn,
    calculate_An_DigOMaIn_Base,
    calculate_An_DigOMtIn_Base,
    calculate_An_DigOMaIn,
    calculate_An_DigOMtIn,
    calculate_TT_dcOMa,
    calculate_TT_dcOMt,
    calculate_TT_dcOMt_Base,
    calculate_An_DigOMa,
    calculate_An_DigOMt,
    calculate_An_GEIn,
    calculate_An_GE,
    calculate_An_DERDTPIn,
    calculate_An_DEidRUPIn,
    calculate_An_DE,
    calculate_An_DE_GE,
    calculate_An_DEnp,
    calculate_An_GasE_IPCC2,
    calculate_GasE_DMIn,
    calculate_GasE_GEIn,
    calculate_GasE_DEIn
)

from nasem_dairy.NASEM_equations.gestation_equations import (
    calculate_Uter_Wtpart,
    calculate_Uter_Wt,
    calculate_GrUter_Wtpart,
    calculate_GrUter_Wt,
    calculate_Uter_BWgain,
    calculate_GrUter_BWgain,
    calculate_Gest_NCPgain_g,
    calculate_Gest_NPgain_g,
    calculate_Gest_NPuse_g,
    calculate_Gest_CPuse_g,
    calculate_An_PostPartDay
)

from nasem_dairy.NASEM_equations.fecal_equations import (
    calculate_Fe_rOMend,
    calculate_Fe_RUP,
    calculate_Fe_RumMiCP,
    calculate_Fe_CPend_g,
    calculate_Fe_CPend,
    calculate_Fe_CP,
    calculate_Fe_NPend,
    calculate_Fe_NPend_g,
    calculate_Fe_MPendUse_g_Trg,
    calculate_Fe_rOM,
    calculate_Fe_St,
    calculate_Fe_NDF,
    calculate_Fe_NDFnf,
    calculate_Fe_Nend,
    calculate_Fe_RDPend,
    calculate_Fe_RUPend,
    calculate_Fe_MiTP,
    calculate_Fe_InfCP,
    calculate_Fe_TP,
    calculate_Fe_N,
    calculate_Fe_N_g,
    calculate_Fe_FA,
    calculate_Fe_OM,
    calculate_Fe_OM_end,
    calculate_Fe_DEMiCPend,
    calculate_Fe_DERDPend,
    calculate_Fe_DERUPend,
    calculate_Fe_DEout,
    calculate_Fe_DE_GE,
    calculate_Fe_DE
)   

from nasem_dairy.NASEM_equations.body_composition_equations import (
    calculate_CPGain_FrmGain,
    calculate_Frm_Gain,
    calculate_Frm_Gain_empty,
    calculate_NPGain_FrmGain,
    calculate_Rsrv_Gain,
    calculate_Rsrv_Gain_empty,
    calculate_Body_Gain_empty,
    calculate_Frm_NPgain,
    calculate_NPGain_RsrvGain,
    calculate_Rsrv_NPgain,
    calculate_Body_NPgain,
    calculate_Body_CPgain,
    calculate_Body_CPgain_g,
    calculate_Rsrv_Gain,
    calculate_Rsrv_Gain_empty,
    calculate_Rsrv_Fatgain,
    calculate_CPGain_FrmGain,
    calculate_Rsrv_CPgain,
    calculate_FatGain_FrmGain,
    calculate_Frm_Gain,
    calculate_Frm_Gain_empty,
    calculate_Frm_Fatgain,
    calculate_NPGain_FrmGain,
    calculate_Frm_NPgain,
    calculate_Frm_CPgain,
    calculate_Body_NPgain_g,
    calculate_An_BWmature_empty,
    calculate_Body_Gain,
    calculate_Trg_BWgain,
    calculate_Trg_BWgain_g
)

from nasem_dairy.NASEM_equations.urine_equations import (
    calculate_Ur_Nout_g,
    calculate_Ur_DEout,
    calculate_Ur_Nend_g,
    calculate_Ur_NPend_g,
    calculate_Ur_MPendUse_g
)

from nasem_dairy.NASEM_equations.energy_requirement_equations import (
    calculate_An_NEmUse_NS,
    calculate_An_NEm_Act_Graze,
    calculate_An_NEm_Act_Parlor,
    calculate_An_NEm_Act_Topo,
    calculate_An_NEmUse_Act,
    calculate_An_NEmUse,
    calculate_An_MEmUse,
    calculate_Rsrv_NEgain,
    calculate_Kr_ME_RE,
    calculate_Rsrv_MEgain,
    calculate_Frm_NEgain,
    calculate_Frm_MEgain,
    calculate_An_MEgain,
    calculate_Gest_REgain,
    calculate_Gest_MEuse,
    calculate_Trg_Mlk_NEout,
    calculate_Trg_Mlk_MEout,
    calculate_Trg_MEuse
)

from nasem_dairy.NASEM_equations.protein_requirement_equations import (
    calculate_An_MPm_g_Trg,
    calculate_Body_MPUse_g_Trg_initial,
    calculate_Gest_MPUse_g_Trg,
    calculate_Trg_Mlk_NP_g,
    calculate_Mlk_MPUse_g_Trg,
    calculate_An_MPuse_g_Trg_initial,
    calculate_Min_MPuse_g,
    calculate_Diff_MPuse_g,
    calculate_Frm_MPUse_g_Trg,
    calculate_Frm_NPgain_g,
    calculate_Kg_MP_NP_Trg,
    calculate_Rsrv_NPgain_g,
    calculate_Rsrv_MPUse_g_Trg,
    calculate_Body_MPUse_g_Trg,
    calculate_An_MPuse_g_Trg
)

from nasem_dairy.NASEM_equations.micronutrient_requirement_equations import (
    calculate_Ca_Mlk,
    calculate_Fe_Ca_m,
    calculate_An_Ca_g,
    calculate_An_Ca_y,
    calculate_An_Ca_l,
    calculate_An_Ca_Clf,
    calculate_An_Ca_req,
    calculate_An_Ca_bal,
    calculate_An_Ca_prod,
    calculate_Ur_P_m,
    calculate_Fe_P_m,
    calculate_An_P_m,
    calculate_An_P_g,
    calculate_An_P_y,
    calculate_An_P_l,
    calculate_An_P_Clf,
    calculate_An_P_req,
    calculate_An_P_bal,
    calculate_Fe_P_g,
    calculate_An_P_prod,
    calculate_An_Mg_Clf,
    calculate_Ur_Mg_m,
    calculate_Fe_Mg_m,
    calculate_An_Mg_m,
    calculate_An_Mg_g,
    calculate_An_Mg_y,
    calculate_An_Mg_l,
    calculate_An_Mg_req,
    calculate_An_Mg_bal,
    calculate_An_Mg_prod,
    calculate_An_Na_Clf,
    calculate_Fe_Na_m,
    calculate_An_Na_g,
    calculate_An_Na_y,
    calculate_An_Na_l,
    calculate_An_Na_req,
    calculate_An_Na_bal,
    calculate_An_Na_prod,
    calculate_An_Cl_Clf,
    calculate_Fe_Cl_m,
    calculate_An_Cl_g,
    calculate_An_Cl_y,
    calculate_An_Cl_l,
    calculate_An_Cl_req,
    calculate_An_Cl_bal,
    calculate_An_Cl_prod,
    calculate_An_K_Clf,
    calculate_Ur_K_m,
    calculate_Fe_K_m,
    calculate_An_K_m,
    calculate_An_K_g,
    calculate_An_K_y,
    calculate_An_K_l,
    calculate_An_K_req,
    calculate_An_K_bal,
    calculate_An_K_prod,
    calculate_An_S_req,
    calculate_An_S_bal,
    calculate_An_Co_req,
    calculate_An_Co_bal,
    calculate_An_Cu_Clf,
    calculate_An_Cu_m,
    calculate_An_Cu_g,
    calculate_An_Cu_y,
    calculate_An_Cu_l,
    calculate_An_Cu_req,
    calculate_An_Cu_bal,
    calculate_An_Cu_prod,
    calculate_An_I_req,
    calculate_An_I_bal,
    calculate_An_Fe_Clf,
    calculate_An_Fe_g,
    calculate_An_Fe_y,
    calculate_An_Fe_l,
    calculate_An_Fe_req,
    calculate_An_Fe_bal,
    calculate_An_Fe_prod,
    calculate_An_Mn_Clf,
    calculate_An_Mn_m,
    calculate_An_Mn_g,
    calculate_An_Mn_y,
    calculate_An_Mn_l,
    calculate_An_Mn_req,
    calculate_An_Mn_bal,
    calculate_An_Mn_prod,
    calculate_An_Se_req,
    calculate_An_Se_bal,
    calculate_An_Zn_Clf,
    calculate_An_Zn_m,
    calculate_An_Zn_g,
    calculate_An_Zn_y,
    calculate_An_Zn_l,
    calculate_An_Zn_req,
    calculate_An_Zn_bal,
    calculate_An_Zn_prod,
    calculate_An_DCADmeq
)

from nasem_dairy.NASEM_equations.coefficient_adjustment import adjust_LCT
from nasem_dairy.NASEM_equations.unused_equations import (
    calculate_Dt_DMIn_BW,
    calculate_Dt_DMIn_MBW
)

from nasem_dairy.NASEM_equations.water_equations import calculate_An_WaIn